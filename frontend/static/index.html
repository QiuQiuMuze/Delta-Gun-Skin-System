<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>三角洲砖皮模拟器 · Web</title>
  <link rel="icon" href="favicon.ico"/>
  <link rel="stylesheet" href="styles.css?v=20240507"/>
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">三角洲砖皮模拟器 · Web</div>
      <nav id="nav"></nav>
    </header>

    <main id="page"></main>

    <footer class="footer">
      <small>© Delta Brick Web v1 · All features preserved</small>
    </footer>
  </div>

  <!-- 全局脚本顺序：api -> 组件 -> app -->
  <script src="api.js?v=20240507"></script>
  <script src="components/visuals.js?v=20240507"></script>
  <script src="components/nav.js?v=20240507"></script>
  <script src="components/auth.js?v=20240507"></script>
  <script src="components/wallet.js?v=20240507"></script>
  <script src="components/shop.js?v=20240507"></script>
  <script src="components/gacha.js?v=20240507"></script>
  <script src="components/inventory.js?v=20240507"></script>
  <script src="components/craft.js?v=20240507"></script>
  <script src="components/market.js?v=20240507"></script>
  <script src="components/admin.js?v=20240507"></script>

  <!-- odds 路由守卫：如访问 #/odds，重定向到首页 -->
  <script>
  (function(){
    function guard() {
      if (location.hash === '#/odds') {
        // 你的首页路由：若首页是 '#/' 就改成 '#/'
        location.replace('#/home');
      }
    }
    window.addEventListener('hashchange', guard);
    guard(); // 首次进入也检查一次
  })();
  </script>

  <script src="app.js?v=20240507"></script>
</body>
</html>
