* { box-sizing: border-box; }
body {
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background:
    radial-gradient(circle at 20% 20%, rgba(56,78,130,0.35), rgba(11,13,18,0) 45%),
    radial-gradient(circle at 80% 10%, rgba(98,75,182,0.32), rgba(11,13,18,0) 48%),
    radial-gradient(circle at 50% 75%, rgba(24,153,168,0.28), rgba(11,13,18,0) 55%),
    #0b0d12;
  color:#e6e9ef;
  min-height:100vh;
}

.audio-toggle {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 2000;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.18), rgba(148,163,184,0.2));
  backdrop-filter: blur(8px);
  color: #f8fafc;
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.4);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.audio-toggle:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(15, 23, 42, 0.45);
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25), rgba(148,163,184,0.28));
}

.audio-toggle.is-muted {
  background: radial-gradient(circle at 30% 30%, rgba(226,72,128,0.25), rgba(76,29,149,0.35));
  box-shadow: 0 10px 24px rgba(76, 29, 149, 0.35);
}

.audio-toggle__icon {
  font-size: 20px;
  pointer-events: none;
}
a { color:#9ecbff; text-decoration: none; }
a:hover { text-decoration: underline; }
.topbar {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 20px;
  background:rgba(13,17,26,0.78);
  border-bottom:1px solid rgba(46,60,92,0.55);
  position:sticky;
  top:0;
  z-index:10;
  backdrop-filter: blur(14px);
  box-shadow:0 12px 32px rgba(8,12,24,0.55);
}
.brand { font-weight:700; letter-spacing:0.08em; text-transform:uppercase; color:#f1f5ff; }
.nav { display:flex; gap:10px; flex-wrap: wrap; }
.nav a, .nav button {
  background:linear-gradient(135deg, rgba(36,51,94,0.92), rgba(22,30,52,0.88));
  border:1px solid rgba(91,118,182,0.55);
  padding:8px 12px;
  border-radius:12px;
  color:#dce6ff;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(8,12,24,0.45);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.nav a:hover, .nav button:hover { transform:translateY(-1px); box-shadow:0 10px 24px rgba(12,18,40,0.55); border-color:rgba(122,160,242,0.75); }
.nav a.active, .nav button.active {
  background:linear-gradient(145deg, rgba(82,109,198,0.92), rgba(36,76,158,0.92));
  color:#fff;
  border-color:rgba(170,198,255,0.85);
  box-shadow:0 14px 32px rgba(24,38,78,0.6);
}
main#page { padding:24px 20px 48px; max-width:1120px; margin:0 auto; }
.card {
  background:linear-gradient(160deg, rgba(16,23,39,0.95), rgba(20,28,46,0.75));
  border:1px solid rgba(78,99,158,0.38);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 18px 42px rgba(6,10,20,0.55);
  backdrop-filter:blur(12px);
}
.input-row { display:flex; gap:8px; flex-wrap: wrap; margin-bottom:10px; }
.input-row input, .input-row select {
  background:rgba(9,13,22,0.92);
  border:1px solid rgba(71,96,148,0.55);
  color:#e6e9ef;
  padding:10px 12px;
  border-radius:10px;
  min-width:180px;
  box-shadow:0 8px 20px rgba(8,12,24,0.45);
  transition:border-color .2s ease, box-shadow .2s ease;
}
.input-row input:focus, .input-row select:focus {
  outline:none;
  border-color:rgba(122,160,242,0.9);
  box-shadow:0 12px 26px rgba(18,44,94,0.6);
}
.btn {
  background:linear-gradient(150deg, rgba(40,57,102,0.95), rgba(22,30,50,0.95));
  border:1px solid rgba(88,118,178,0.65);
  color:#f0f4ff;
  padding:10px 18px;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 12px 30px rgba(8,12,24,0.55);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.btn:hover { transform:translateY(-2px); box-shadow:0 16px 36px rgba(12,18,40,0.6); border-color:rgba(140,174,242,0.85); }
.btn.primary { background:linear-gradient(150deg, rgba(43,104,218,0.95), rgba(36,66,176,0.95)); border-color:rgba(138,180,255,0.75); box-shadow:0 18px 40px rgba(24,58,138,0.6); }
.btn.is-disabled { opacity:0.55; cursor:not-allowed; }
.btn.is-disabled:hover { transform:none; box-shadow:0 12px 30px rgba(8,12,24,0.45); border-color:rgba(88,118,178,0.65); }
.btn.ghost {
  background:rgba(17,22,32,0.55);
  border:1px solid rgba(108,138,198,0.45);
  color:#9ecbff;
  box-shadow:0 10px 24px rgba(8,12,24,0.45);
}
.btn.ghost:hover { background:rgba(27,38,54,0.75); border-color:rgba(138,174,242,0.65); }
.choice-group { display:inline-flex; border:1px solid #273041; border-radius:10px; overflow:hidden; }
.choice-group .btn { border:0; border-radius:0; background:#0b0d12; }
.choice-group .btn + .btn { border-left:1px solid #273041; }
.choice-group .btn.active { background:#274060; color:#fff; }
.choice-group .btn:disabled { opacity:0.6; cursor:not-allowed; }
.grid { display:grid; gap:14px; }
.grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid.cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.grid.cols-4 .kv-wide { grid-column: span 2; }
.kv {
  display:flex;
  gap:8px;
  flex-wrap: wrap;
  padding:12px 14px;
  border-radius:14px;
  background:linear-gradient(140deg, rgba(18,26,44,0.85), rgba(14,20,36,0.78));
  border:1px solid rgba(60,88,138,0.35);
  box-shadow:0 10px 26px rgba(6,10,22,0.5);
}
.kv .k { min-width:120px; color:#aebbd8; letter-spacing:0.04em; text-transform:uppercase; font-size:12px; }
.kv .v { font-weight:600; color:#f1f5ff; }
.brick-breakdown { margin:4px 0 0; padding-left:18px; }
.brick-breakdown li { list-style:disc; margin:2px 0; }
.table {
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  background:rgba(16,22,34,0.75);
  border:1px solid rgba(66,88,138,0.35);
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 14px 32px rgba(6,10,22,0.5);
}
.table th, .table td {
  padding:12px 14px;
  border-bottom:1px solid rgba(53,70,109,0.45);
  text-align:left;
}
.table tbody tr:nth-child(odd) { background:rgba(20,28,46,0.35); }
.table tbody tr:nth-child(even) { background:rgba(16,22,34,0.45); }
.table tr:last-child td { border-bottom:none; }
.table tr.is-selected { background:linear-gradient(120deg, rgba(253,224,71,0.22), rgba(251,191,36,0.12)); }
.table tr.is-selected td { font-weight:600; color:#fff9db; }
.craft-indicator { display:inline-block; min-width:44px; padding:2px 6px; border-radius:6px; background:rgba(136,145,153,0.2); color:#d7dee6; text-align:center; font-size:12px; }
.craft-indicator.is-active { background:rgba(255,196,0,0.22); color:#fff4cf; box-shadow:0 0 0 1px rgba(255,196,0,0.35) inset; }

.badge { padding:2px 8px; border-radius:999px; background:#1a2433; border:1px solid #2a3951; font-size:12px; }

/* —— 颜色体系 —— */
.hl-orange { color:#ffb86c; }   /* 砖光芒/极品 */
.hl-purple { color:#d19eff; }   /* 紫 */
.hl-blue   { color:#8ab4ff; }   /* 蓝、优品 */
.hl-green  { color:#70e1a1; }   /* 绿 */

.grade-s { color:#ffd27d; font-weight:700; } /* 金色 */
.grade-a { color:#d19eff; font-weight:600; }
.grade-b { color:#8ab4ff; font-weight:600; }
.grade-c { color:#a0b7a6; }

.badge-exq { background:rgba(255,184,108,.12); border-color:#ffb86c; color:#ffb86c; }
.badge-prem{ background:rgba(138,180,255,.12); border-color:#8ab4ff; color:#8ab4ff; }
.badge-lock{ background:rgba(255,120,120,0.12); border-color:#ff7b7b; color:#ff9f9f; margin-left:6px; }

/* —— 动画 —— */
.spinner {
  width:18px; height:18px; border:2px solid #2a3951; border-top-color:#9ecbff; border-radius:50%;
  display:inline-block; vertical-align:middle; animation: spin 1s linear infinite; margin-right:8px;
}
@keyframes spin { to { transform: rotate(360deg); } }

.fade-in { animation: fade .35s ease-out both; }
@keyframes fade { from { opacity:0; transform: translateY(4px); } to { opacity:1; transform:none; } }

.glow {
  padding:10px 12px; border-radius:10px; border:1px solid #1d2430; margin-top:8px;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0));
  animation: pulse 1.2s ease-in-out infinite;
}
.glow.orange { box-shadow: 0 0 18px rgba(255,184,108,.35); }
.glow.purple { box-shadow: 0 0 18px rgba(209,158,255,.35); }
.glow.blue   { box-shadow: 0 0 18px rgba(138,180,255,.35); }
.glow.green  { box-shadow: 0 0 18px rgba(112,225,161,.35); }

@keyframes pulse {
  0%,100% { filter: brightness(1); }
  50% { filter: brightness(1.25); }
}

/* 翻牌表格的行高亮 */
.row-reveal { animation: rowIn .25s ease-out both; }
@keyframes rowIn { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform:none; } }

.suspense-wrap { display:flex; }
.suspense-glow {
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:8px 12px;
  border-radius:10px;
  border:1px solid rgba(255,184,108,0.32);
  background:linear-gradient(120deg, rgba(255,184,108,0.14), rgba(255,184,108,0.04));
  position:relative;
  overflow:hidden;
  box-shadow:0 0 18px rgba(255,184,108,0.25);
}
.suspense-glow.diamond {
  border-color: rgba(132,203,255,0.45);
  background: linear-gradient(120deg, rgba(132,203,255,0.18), rgba(132,203,255,0.06));
  box-shadow: 0 0 22px rgba(132,203,255,0.35);
  color: #d5ecff;
}
.suspense-glow::after {
  content:"";
  position:absolute;
  inset:-60%;
  background:linear-gradient(120deg, rgba(255,255,255,0), rgba(255,255,255,0.55), rgba(255,255,255,0));
  animation:suspenseSweep 1.6s ease-in-out infinite;
  mix-blend-mode:screen;
}
.suspense-glow.diamond::after {
  background:linear-gradient(120deg, rgba(255,255,255,0), rgba(173,221,255,0.7), rgba(255,255,255,0));
  animation-duration:2s;
}
@keyframes suspenseSweep {
  0% { transform:translateX(-50%); }
  55% { transform:translateX(35%); }
  100% { transform:translateX(120%); }
}

/* ---- currency colors ---- */
.c-fiat  { color: #4da3ff; }   /* 蓝色：法币 */
.c-coins { color: #f8d06b; }   /* 金色：三角币 */
/* 更高权重，保证覆盖 kv 默认色 */
.kv .k .c-fiat,  .kv .v.c-fiat  { color: #4da3ff; }
.kv .k .c-coins, .kv .v.c-coins { color: #f8d06b; }

/* —— 预览按钮 —— */
.btn.btn-mini { padding:4px 8px; font-size:12px; line-height:1.2; }
.admin-inventory { margin-top:8px; }
.admin-inventory .muted { margin-bottom:8px; }
.admin-inventory table { margin-top:8px; }
.admin-inventory .skin-preview { --preview-width: 210px; }
.admin-inventory .skin-preview--compact { --preview-width: 210px; }
.admin-presence { margin-top: 16px; }
.admin-presence__head { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:8px; }
.admin-presence__meta { font-size:13px; color:#6b7280; }
.admin-presence__body { max-height:280px; overflow:auto; }
.admin-presence__table { margin:0; font-size:13px; }
.admin-presence__table th, .admin-presence__table td { white-space:nowrap; }
.admin-presence__table td:first-child { font-weight:600; }
.admin-presence__table td:nth-child(3) { color:#2563eb; }

/* —— 枪械外观预览 —— */
.skin-preview {
  display:inline-block;
  position:relative;
  padding:10px;
  border-radius:12px;
  border:1px solid rgba(148,178,216,0.25);
  background:rgba(20,26,36,0.9);
  box-shadow:0 8px 20px rgba(10,14,22,0.45);
  overflow:hidden;
  transition:transform .25s ease, box-shadow .25s ease;
  min-width:calc(var(--preview-width, 240px) + 24px);
}
.skin-preview:hover { transform:translateY(-2px); box-shadow:0 12px 28px rgba(20,32,52,0.55); }
.skin-preview--compact { padding:8px; min-width:calc(var(--preview-width, 220px) + 18px); }
.skin-preview__canvas {
  width:var(--preview-width, 240px);
  height:var(--preview-height, 86px);
  position:relative;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:
    radial-gradient(circle at 28% 18%, rgba(255,255,255,0.16), rgba(12,18,26,0.96) 60%),
    linear-gradient(150deg, rgba(10,14,24,0.92), rgba(4,8,14,0.94));
  border:1px solid rgba(120,150,200,0.28);
  overflow:hidden;
}
.skin-preview__canvas::before {
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(130% 130% at -10% -20%, rgba(255,255,255,0.28), rgba(255,255,255,0) 60%),
    radial-gradient(90% 90% at 120% 120%, rgba(255,255,255,0.12), rgba(255,255,255,0) 62%);
  opacity:0.45;
  mix-blend-mode:screen;
  pointer-events:none;
}
.skin-preview__canvas::after {
  content:"";
  position:absolute;
  inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2760%27 height=%2760%27 viewBox=%270 0 60 60%27%3E%3Cpath fill=%27rgba(255,255,255,0.02)%27 d=%27M0 59h60v1H0zM59 0h1v60h-1z%27/%3E%3C/svg%3E");
  opacity:0.25;
  mix-blend-mode:soft-light;
  pointer-events:none;
}
.skin-preview__svg {
  width:100%;
  height:100%;
  overflow:visible;
  pointer-events:none;
  filter:drop-shadow(0 10px 18px rgba(8,10,18,0.35));
}
.skin-preview__svg path,
.skin-preview__svg polygon,
.skin-preview__svg circle {
  transition:opacity .25s ease, transform .35s ease, fill .35s ease, stroke .35s ease;
}
.m7-shadow ellipse { filter:blur(14px); opacity:0.55; }
.m7-template--gradient path,
.m7-template--bands path,
.m7-template--stream path,
.m7-template--facet polygon,
.m7-template--pulse path,
.m7-template--glass path,
.m7-template--grid path,
.m7-template--diamond path,
.m7-template-hidden circle,
.m7-sparks circle,
.m7-effect--sparkle circle,
.m7-effect--refraction polygon,
.m7-effect--sheen rect,
.m7-effect--trail,
.m7-effect--bold-tracer,
.m7-effect--kill-counter {
  pointer-events:none;
}
.m7-template--gradient path,
.m7-template--bands path,
.m7-template--stream path,
.m7-template--facet polygon,
.m7-template--pulse path,
.m7-template--glass path,
.m7-effect--refraction polygon {
  mix-blend-mode:screen;
}
.m7-template--grid path { mix-blend-mode:overlay; }
.m7-template--nebula circle { mix-blend-mode:screen; }
.m7-template--diamond path { mix-blend-mode:screen; filter:saturate(1.2); }
.m7-template--brushed path { mix-blend-mode:screen; }
.m7-template--laser path { mix-blend-mode:screen; }
.m7-template-hidden circle { mix-blend-mode:screen; filter:blur(0.35px); animation:diamondPulse 2.4s ease-in-out infinite; }
.m7-sparks circle { mix-blend-mode:screen; animation:baseSpark 5.6s ease-in-out infinite alternate; }
.m7-stock-ribs line { mix-blend-mode:screen; }
.m7-body-detail rect { mix-blend-mode:screen; }
.m7-body path, .m7-body line { vector-effect:non-scaling-stroke; }
.m7-rail-teeth rect { mix-blend-mode:screen; }
.m7-rail-grooves line { mix-blend-mode:multiply; }
.m7-grip-ridges path { mix-blend-mode:multiply; }
.m7-fore-lines line { mix-blend-mode:screen; }
.m7-scope-lines line { mix-blend-mode:screen; }
.m7-body path, .m7-body circle { transition:fill .3s ease, opacity .3s ease; }
.m7-body line { transition:stroke .3s ease, opacity .3s ease; }
.m7-effect--sparkle circle { mix-blend-mode:screen; animation:sparklePulse 3.4s ease-in-out infinite; }
.m7-effect--sheen rect { mix-blend-mode:screen; opacity:0; }
.m7-effect--trail { opacity:0; mix-blend-mode:screen; }
.m7-effect--bold-tracer { opacity:0; mix-blend-mode:screen; }
.m7-effect--refraction polygon { opacity:0.75; }
.m7-effect--kill-counter rect { mix-blend-mode:screen; }
.skin-preview.effect-sheen .m7-effect--sheen rect { opacity:0.75; animation:sheenSweep 2.8s ease-in-out infinite; }
.skin-preview.effect-trail .m7-effect--trail { opacity:1; animation:muzzleTrail 1.8s ease-in-out infinite; }
.skin-preview.effect-glow .skin-preview__canvas { box-shadow:0 0 26px var(--accent-glow), 0 0 14px rgba(255,255,255,0.18); border-color:rgba(255,255,255,0.28); }
.skin-preview.effect-pulse .skin-preview__canvas { animation:previewPulse 2.2s ease-in-out infinite; }
.skin-preview.effect-flux .skin-preview__svg { animation:hueFlux 3.6s ease-in-out infinite alternate; }
.skin-preview.effect-refraction .skin-preview__canvas { background:
    radial-gradient(circle at 28% 18%, rgba(255,255,255,0.2), rgba(12,18,26,0.94) 58%),
    linear-gradient(150deg, rgba(10,14,24,0.92), rgba(6,8,16,0.96)); }
.skin-preview.effect-sparkle .m7-effect--sparkle circle { animation-duration:2.6s; }
.skin-preview.effect-bold-tracer .m7-effect--bold-tracer { opacity:1; animation:tracerSweep 1.4s ease-in-out infinite; }
.skin-preview.effect-kill-counter .m7-effect--kill-counter { opacity:1; }
.skin-preview.effect-kill-counter .m7-effect--kill-counter text { font-weight:600; letter-spacing:1px; }
.skin-preview.is-hidden-template::after {
  content:"";
  position:absolute;
  inset:2px;
  border-radius:10px;
  background:linear-gradient(120deg, rgba(255,255,255,0.18), rgba(255,255,255,0));
  mix-blend-mode:screen;
  animation:shimmer 2.4s linear infinite;
  pointer-events:none;
}
.skin-preview__label { margin-top:8px; font-weight:600; font-size:14px; }
.skin-preview__meta { margin-top:4px; font-size:12px; color:#9aa7bd; line-height:1.4; }

@keyframes shimmer {
  0% { transform:translateX(-120%); opacity:0.12; }
  45% { opacity:0.45; }
  100% { transform:translateX(120%); opacity:0.12; }
}
@keyframes baseSpark {
  0%,100% { opacity:0.3; transform:translateY(0); }
  50% { opacity:0.6; transform:translateY(-4px); }
}
@keyframes diamondPulse {
  0%,100% { opacity:0.4; }
  50% { opacity:0.9; }
}
@keyframes sparklePulse {
  0%,100% { opacity:0.45; transform:scale(0.85); }
  50% { opacity:1; transform:scale(1.05); }
}
@keyframes sheenSweep {
  0% { transform:translateX(-120%); opacity:0; }
  45% { opacity:0.75; }
  100% { transform:translateX(120%); opacity:0; }
}
@keyframes muzzleTrail {
  0% { stroke-opacity:0.85; transform:translateX(0); }
  100% { stroke-opacity:0; transform:translateX(28px); }
}
@keyframes tracerSweep {
  0% { stroke-opacity:0; transform:translateX(0); }
  35% { stroke-opacity:0.95; }
  100% { stroke-opacity:0; transform:translateX(24px); }
}
@keyframes previewPulse {
  0%,100% { box-shadow:0 0 16px rgba(255,255,255,0.12); }
  50% { box-shadow:0 0 30px var(--accent-glow, rgba(255,200,160,0.55)); }
}
@keyframes hueFlux {
  0% { filter:hue-rotate(0deg); }
  50% { filter:hue-rotate(120deg); }
  100% { filter:hue-rotate(240deg); }
}

.tmpl-brick-normal .skin-preview__canvas { border-color:rgba(206,170,132,0.5); }
.tmpl-brick-white .skin-preview__canvas { border-color:rgba(235,240,255,0.65); box-shadow:0 0 18px rgba(255,255,255,0.22); }
.tmpl-brick-yellow .skin-preview__canvas { border-color:rgba(255,214,120,0.6); box-shadow:0 0 16px rgba(255,214,120,0.25); }
.tmpl-brick-pink .skin-preview__canvas { border-color:rgba(244,156,204,0.6); box-shadow:0 0 16px rgba(255,160,210,0.25); }
.tmpl-brick-brushed .skin-preview__canvas { border-color:rgba(176,186,198,0.48); }
.tmpl-brick-laser .skin-preview__canvas { border-color:rgba(132,214,255,0.55); box-shadow:0 0 18px rgba(132,214,255,0.32); }
.tmpl-prism .skin-preview__canvas { border-color:rgba(255,184,108,0.45); }
.tmpl-ember .skin-preview__canvas { border-color:rgba(255,120,90,0.4); }
.tmpl-ion .skin-preview__canvas { border-color:rgba(148,200,255,0.45); }
.tmpl-diamond .skin-preview__canvas { border-color:rgba(255,255,255,0.55); }
.tmpl-aurora .skin-preview__canvas { border-color:rgba(180,140,255,0.45); }
.tmpl-nebula .skin-preview__canvas { border-color:rgba(140,220,255,0.4); }
.tmpl-vapor .skin-preview__canvas { border-color:rgba(150,200,255,0.35); }
.tmpl-urban .skin-preview__canvas { border-color:rgba(150,150,180,0.35); }
.tmpl-midnight .skin-preview__canvas { border-color:rgba(110,120,180,0.45); }
.tmpl-field .skin-preview__canvas { border-color:rgba(120,170,120,0.35); }
.tmpl-matte .skin-preview__canvas { border-color:rgba(120,140,160,0.3); }

.preview-row td { background:rgba(16,20,28,0.85); }
.preview-row .skin-preview { margin-top:8px; }
.preview-row .preview-info { margin-top:8px; font-size:13px; color:#a8b3c7; }

.inventory-card { display:flex; flex-direction:column; gap:12px; }
.inventory-card__header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.inventory-card__header h2 { margin:0; font-size:22px; }
.inventory-card__actions { display:flex; gap:10px; }
.inventory-summary { font-size:13px; color:#9aa7bd; background:rgba(16,20,28,0.6); border:1px solid rgba(60,78,108,0.42); border-radius:10px; padding:10px 12px; }
.inventory-summary .inventory-season-grid { margin-top:8px; }
.inventory-filters select { min-width:160px; }
.inventory-season-grid { display:grid; gap:12px; margin-top:12px; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
.inventory-season-chip { background:rgba(12,18,26,0.85); border:1px solid rgba(70,92,126,0.35); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:8px; box-shadow: inset 0 0 0 1px rgba(16,24,36,0.35); }
.inventory-season-chip__title { font-weight:600; font-size:15px; color:#e3e8f5; }
.inventory-season-chip__count { font-size:13px; color:#9aa7bd; }
.inventory-season-chip__rarities { display:flex; flex-wrap:wrap; gap:6px; font-size:12px; }
.inventory-season__rar { background:rgba(19,26,36,0.78); border-radius:999px; padding:2px 8px; border:1px solid rgba(72,96,132,0.4); }
.inventory-section { margin-top:16px; }
.inventory-section h3 { margin-top:0; display:flex; align-items:center; gap:8px; }
.inventory-section table { margin-top:10px; }
.inventory-pagination { display:flex; align-items:center; justify-content:center; gap:12px; margin-top:12px; font-size:13px; color:#9aa7bd; }
.inventory-pagination .btn { min-width:80px; }

.market-preview-cell { min-width:170px; }
.market-preview-cell .skin-preview__meta { font-size:11px; }

.tpl-none .skin-preview__canvas { border-color:rgba(118,132,148,0.28); }

.gacha-season { background:rgba(12,18,26,0.85); border:1px solid rgba(38,52,74,0.6); border-radius:12px; padding:14px; margin-top:12px; display:flex; flex-direction:column; gap:12px; }
.gacha-season .input-row { margin-bottom:0; }
.gacha-season__info { background:rgba(14,20,30,0.75); border:1px solid rgba(48,64,90,0.45); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:10px; }
.gacha-season__meta { font-size:13px; color:#9aa7bd; display:flex; flex-direction:column; gap:6px; }
.gacha-season__tagline { color:#ffd27d; font-weight:600; }
.gacha-season__desc { line-height:1.5; }
.gacha-season__groups { display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }
.gacha-season__group { background:rgba(10,16,24,0.75); border:1px solid rgba(52,70,98,0.35); border-radius:10px; padding:10px; display:flex; flex-direction:column; gap:6px; }
.gacha-season__group h4 { margin:0; font-size:14px; }
.gacha-season__group ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:4px; font-size:12px; }
.gacha-season__group li { word-break:break-all; }

.shop-season { background:rgba(12,18,26,0.85); border:1px solid rgba(38,52,74,0.6); border-radius:12px; padding:14px; display:flex; flex-direction:column; gap:12px; }
.shop-season .input-row { margin-bottom:0; }
.shop-season__catalog { background:rgba(14,20,30,0.75); border:1px solid rgba(48,64,90,0.45); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:12px; }
.shop-season__meta { font-size:13px; color:#9aa7bd; display:flex; flex-direction:column; gap:6px; }
.shop-season__tagline { color:#ffd27d; font-weight:600; }
.shop-season__desc { line-height:1.5; }
.shop-season__groups { display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }
.shop-season__group { background:rgba(10,16,24,0.75); border:1px solid rgba(52,70,98,0.35); border-radius:10px; padding:10px; display:flex; flex-direction:column; gap:6px; }
.shop-season__group h4 { margin:0; font-size:14px; }
.shop-season__group ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:4px; font-size:12px; }
.shop-season__group li { word-break:break-all; cursor:pointer; padding:4px 6px; border-radius:6px; transition:background 0.2s ease, transform 0.2s ease; }
.shop-season__group li:hover { background:rgba(255,255,255,0.08); transform:translateY(-1px); }
.shop-season__group li.is-active { background:rgba(255,196,0,0.16); box-shadow:0 0 0 1px rgba(255,196,0,0.4) inset; }
.shop-season__grid { display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.shop-season__card { background:rgba(10,16,24,0.75); border:1px solid rgba(52,70,98,0.35); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:8px; box-shadow: inset 0 0 0 1px rgba(18,26,38,0.35); }
.shop-season__card h4 { margin:0; font-size:16px; color:#e3e8f5; }
.shop-season__card-meta { font-size:13px; color:#ffd27d; }
.shop-season__card-desc { font-size:12px; color:#9aa7bd; line-height:1.5; }
.shop-season__card-counts { display:flex; flex-wrap:wrap; gap:6px; }
.shop-season__chip { background:rgba(16,22,32,0.8); border-radius:999px; padding:2px 10px; border:1px solid rgba(72,96,132,0.4); font-size:12px; }

/* —— 抽卡操作区域 —— */
.draw-actions { display:flex; flex-direction:column; gap:16px; margin:20px 0 12px; }
.draw-panels { display:flex; flex-wrap:wrap; gap:16px; }
.draw-panel { flex:1 1 220px; border:none; border-radius:14px; padding:18px 20px; text-align:left; color:#fff; cursor:pointer; position:relative; overflow:hidden; transition:transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease; }
.draw-panel:disabled { cursor:not-allowed; filter:grayscale(0.5); opacity:0.7; }
.draw-panel:not(:disabled):hover { transform:translateY(-2px); box-shadow:0 10px 26px rgba(0,0,0,0.18); }
.draw-panel:focus-visible { outline:3px solid rgba(255,255,255,0.75); outline-offset:3px; box-shadow:0 0 0 4px rgba(255,255,255,0.18); }
.draw-panel__title { display:block; font-size:20px; font-weight:600; letter-spacing:1px; margin-bottom:6px; }
.draw-panel__desc { display:block; font-size:13px; opacity:0.85; }
.draw-btn-single { background:linear-gradient(135deg, #ff9d4d, #ff6f3c); box-shadow:0 8px 20px rgba(255,111,60,0.35); }
.draw-btn-ten { background:linear-gradient(135deg, #785bff, #4a1fff); box-shadow:0 8px 20px rgba(74,31,255,0.32); }
.draw-helper { display:flex; justify-content:flex-end; min-height:38px; align-items:center; }
.draw-helper .btn { min-width:120px; }
@media (max-width:720px) {
  .draw-panel { flex:1 1 100%; }
  .draw-helper { justify-content:flex-start; }
}
.draw-btn { flex:1 1 220px; border:none; background:none; padding:0; font:inherit; color:inherit; text-align:inherit; }
.draw-btn:disabled { cursor:not-allowed; }
.open-stage { margin-top:12px; }

/* —— 顶部通知 —— */
.global-notify { position:fixed; top:64px; left:0; right:0; display:flex; flex-direction:column; align-items:center; gap:10px; padding:0 16px; pointer-events:none; z-index:20; }
.notify-card { background:rgba(22,30,44,0.92); border:1px solid rgba(140,180,255,0.35); border-radius:14px; padding:12px 18px; min-width:260px; max-width:420px; box-shadow:0 18px 36px rgba(0,0,0,0.45); opacity:0; transform:translateY(-12px) scale(.98); transition:opacity .25s ease, transform .25s ease; pointer-events:auto; }
.notify-card.show { opacity:1; transform:translateY(0) scale(1); }
.notify-card.diamond { border-color:rgba(176,216,255,0.6); background:linear-gradient(145deg, rgba(44,58,84,0.96), rgba(24,34,52,0.94)); color:#d7e9ff; box-shadow:0 22px 40px rgba(60,120,200,0.35); }
.notify-title { font-weight:700; margin-bottom:4px; }
.notify-body span { color:#ffd27d; font-weight:600; }

/* —— 商店 —— */
.shop-card { display:flex; flex-direction:column; gap:20px; }
.shop-price { font-size:15px; color:#9aa7bd; }
.shop-board { display:flex; flex-wrap:wrap; gap:20px; }
.shop-board__hist { flex:1 1 280px; }
.shop-board__lists { flex:2 1 360px; display:flex; gap:20px; flex-wrap:wrap; }
.shop-board__column { flex:1 1 260px; min-width:240px; display:flex; flex-direction:column; gap:10px; }
.shop-actions { display:flex; gap:20px; flex-wrap:wrap; }
.shop-box { flex:1 1 320px; background:rgba(16,20,28,0.85); border:1px solid #1d2430; border-radius:12px; padding:16px; display:flex; flex-direction:column; gap:12px; box-shadow:inset 0 0 0 1px rgba(70,90,120,0.12); }
.shop-box h3 { margin:0; }
.order-list { background:rgba(12,16,24,0.7); border:1px solid rgba(60,80,110,0.35); border-radius:10px; padding:10px; display:flex; flex-direction:column; gap:8px; max-height:220px; overflow:auto; }
.order-list.small { max-height:180px; }
.order-row { display:flex; justify-content:space-between; align-items:center; gap:10px; font-size:14px; }
.order-row .btn { flex:0 0 auto; }
.price-tag { display:inline-flex; align-items:center; justify-content:center; min-width:52px; padding:2px 10px; border-radius:999px; background:rgba(110,150,220,0.18); color:#9ecbff; margin-right:8px; font-weight:600; }
.order-meta { margin-left:6px; color:#6b8abf; font-size:12px; }
h3 + .muted.small { margin-top:-6px; }
.histogram { background:rgba(14,18,26,0.75); border:1px solid rgba(60,80,110,0.35); border-radius:12px; padding:12px 14px; display:flex; flex-direction:column; gap:10px; }
.histogram .hist-title { font-size:13px; font-weight:600; color:rgba(222,233,255,0.75); letter-spacing:0.2px; }
.hist-row { display:flex; align-items:center; gap:12px; font-size:13px; }
.hist-label { min-width:90px; color:#8fa0bb; }
.hist-bar { flex:1; position:relative; background:rgba(30,40,60,0.6); border-radius:999px; height:18px; overflow:hidden; }
.hist-bar__fill { position:absolute; inset:0; background:linear-gradient(90deg, rgba(98,158,255,0.2), rgba(98,158,255,0.75)); border-radius:999px; }
.hist-bar__count { position:absolute; right:8px; top:50%; transform:translateY(-50%); font-size:12px; color:#d8e6ff; }
.muted.small { font-size:12px; }
.order-list .muted { font-size:13px; }
.mailbox { margin-top:24px; border-top:1px solid rgba(66,88,138,0.35); padding-top:20px; }
.mailbox-header { display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; margin-bottom:12px; }
.mailbox-tabs { display:flex; gap:8px; flex-wrap:wrap; }
.mailbox-tab {
  background:linear-gradient(135deg, rgba(27,36,62,0.92), rgba(18,26,46,0.88));
  border:1px solid rgba(80,110,170,0.45);
  color:#dce6ff;
  padding:8px 18px;
  border-radius:999px;
  cursor:pointer;
  font-size:14px;
  box-shadow:0 8px 22px rgba(8,12,24,0.45);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.mailbox-tab:hover { transform:translateY(-1px); box-shadow:0 12px 28px rgba(12,18,40,0.55); border-color:rgba(122,160,242,0.75); }
.mailbox-tab.active { background:linear-gradient(145deg, rgba(76,106,194,0.95), rgba(42,79,168,0.95)); color:#fff; border-color:rgba(170,198,255,0.85); box-shadow:0 14px 32px rgba(24,38,78,0.6); }
.mailbox-panels { position:relative; }
.mailbox-panel { display:none; gap:16px; flex-wrap:wrap; }
.mailbox-panel.active { display:flex; }
.mailbox-sub { flex:1 1 280px; }
.mailbox-sub h4 { margin:0 0 8px; color:#9aa7bd; font-size:15px; font-weight:600; }
.mailbox-list { display:flex; flex-direction:column; gap:8px; }
.mail-entry {
  padding:12px 14px;
  border:1px solid rgba(62,86,140,0.45);
  border-radius:14px;
  background:linear-gradient(150deg, rgba(18,26,44,0.9), rgba(12,18,32,0.82));
  box-shadow:0 10px 26px rgba(6,10,22,0.55);
}
.mail-entry__head { display:flex; justify-content:space-between; align-items:center; color:#8c9ab4; font-size:12px; margin-bottom:6px; }
.mail-entry__body { display:flex; flex-direction:column; gap:4px; }
.mail-entry__name { font-weight:600; font-size:14px; color:#e6e9ef; }
.mail-entry__meta { color:#cdd6f4; font-size:13px; }
.mail-entry__qty { color:#9aa7bd; font-size:12px; }
.mail-entry__time { color:#76839b; }

/* —— 饼干工厂 —— */
.cookie-card { display:flex; flex-direction:column; gap:20px; }
.cookie-hero { display:flex; flex-wrap:wrap; gap:16px; align-items:stretch; }
.cookie-big { flex:1 1 260px; min-height:200px; border-radius:16px; background:radial-gradient(circle at 30% 30%, #f9d29d, #f19a5c); box-shadow:0 8px 24px rgba(0,0,0,0.12); display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:pointer; transition:transform .15s ease, box-shadow .15s ease; color:#5a3512; text-align:center; }
.cookie-big:hover { transform:translateY(-4px); box-shadow:0 12px 28px rgba(0,0,0,0.18); }
.cookie-big__icon { font-size:64px; line-height:1; }
.cookie-big__count { font-size:32px; font-weight:700; margin-top:12px; }
.cookie-big__label { font-size:14px; opacity:.8; margin-top:6px; }
.cookie-stats { flex:1 1 220px; display:flex; flex-direction:column; gap:8px; }
.stat-chip { background:#1f2937; color:#f9fafb; padding:10px 14px; border-radius:10px; font-size:14px; display:flex; align-items:center; gap:8px; box-shadow:0 2px 8px rgba(0,0,0,0.12); }
.cookie-actions { display:flex; flex-wrap:wrap; gap:10px; }
.cookie-actions .btn { flex:1 1 180px; display:flex; align-items:center; justify-content:center; gap:6px; }
.cookie-section { border-top:1px solid rgba(255,255,255,0.04); padding-top:12px; }
.cookie-section h3 { margin-bottom:12px; display:flex; align-items:center; gap:6px; font-size:18px; }
.cookie-buildings { display:flex; flex-direction:column; gap:12px; }
.cookie-building { display:flex; align-items:flex-start; gap:12px; padding:12px; border-radius:12px; background:rgba(15,23,42,0.75); backdrop-filter:blur(8px); box-shadow:0 2px 10px rgba(0,0,0,0.1); }
.cookie-building__icon { font-size:32px; }
.cookie-building__info { flex:1; }
.cookie-building__name { font-size:16px; font-weight:600; display:flex; align-items:center; gap:8px; }
.cookie-building__name .count { font-size:13px; color:#9ca3af; }
.cookie-building__desc { font-size:13px; color:#cbd5f5; margin:4px 0; }
.cookie-building__meta { font-size:12px; color:#94a3b8; }
.cookie-building .btn-mini { align-self:center; }
.cookie-minis { display:flex; flex-direction:column; gap:12px; }
.cookie-mini { display:flex; gap:12px; padding:12px; border-radius:12px; background:rgba(15,23,42,0.7); align-items:center; box-shadow:0 2px 8px rgba(0,0,0,0.08); }
.cookie-mini__icon { font-size:28px; }
.cookie-mini__body { flex:1; }
.cookie-mini__head { font-weight:600; margin-bottom:4px; }
.cookie-mini__desc { font-size:12px; color:#cbd5f5; margin-bottom:6px; }
.progress-bar { position:relative; width:100%; height:8px; border-radius:6px; background:rgba(255,255,255,0.08); overflow:hidden; }
.progress-bar.big { height:12px; margin:8px 0; }
.progress-bar__fill { position:absolute; left:0; top:0; bottom:0; background:linear-gradient(90deg,#facc15,#f97316); border-radius:6px; }
.cookie-weekly { display:flex; flex-direction:column; gap:12px; }
.progress-card { padding:16px; border-radius:14px; background:rgba(15,23,42,0.65); box-shadow:0 4px 16px rgba(0,0,0,0.12); }
.progress-card__head { font-weight:600; margin-bottom:6px; display:flex; align-items:center; gap:6px; }
.cookie-breakdown { display:flex; flex-wrap:wrap; gap:12px; font-size:13px; color:#e2e8f0; margin-top:8px; }
.cookie-notice { padding:10px 14px; border-radius:10px; background:rgba(250, 204, 21, 0.18); color:#713f12; font-weight:600; }
.cookie-notice-stack { display:flex; flex-direction:column; gap:8px; }
.cookie-alert { padding:10px 14px; border-radius:10px; font-weight:600; display:flex; align-items:center; gap:8px; box-shadow:0 4px 14px rgba(0,0,0,0.12); }
.cookie-alert--info { background:rgba(250, 204, 21, 0.18); color:#713f12; }
.cookie-alert--error { background:rgba(239,68,68,0.16); color:#991b1b; }
.cookie-hint { margin:4px 0 12px; padding:10px 14px; border-radius:10px; background:rgba(148,163,184,0.16); color:#e2e8f0; font-size:13px; display:flex; align-items:center; gap:8px; }
.cookie-section__hint { font-size:13px; color:#cbd5f5; margin-bottom:8px; display:flex; align-items:center; gap:6px; }
.cookie-fun { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin:12px 0; }
.cookie-fun__item { display:flex; gap:12px; align-items:flex-start; padding:12px; border-radius:12px; background:rgba(15,23,42,0.7); box-shadow:0 2px 12px rgba(0,0,0,0.12); }
.cookie-fun__icon { font-size:28px; line-height:1; }
.cookie-fun__body { display:flex; flex-direction:column; gap:4px; }
.cookie-fun__title { font-weight:600; color:#f8fafc; }
.cookie-fun__text { font-size:13px; color:#cbd5f5; line-height:1.4; }
.cookie-guide { display:flex; flex-direction:column; gap:12px; padding:16px; border-radius:14px; background:rgba(15,23,42,0.65); box-shadow:0 4px 16px rgba(0,0,0,0.18); margin:12px 0; }
.cookie-guide__tabs { display:flex; flex-wrap:wrap; gap:8px; }
.cookie-guide__tab { flex:1 1 160px; display:flex; align-items:center; justify-content:center; gap:6px; padding:8px 12px; border-radius:10px; background:rgba(148,163,184,0.18); color:#e2e8f0; font-weight:600; cursor:pointer; border:none; transition:background .15s ease, transform .15s ease, box-shadow .15s ease; }
.cookie-guide__tab:hover { background:rgba(148,163,184,0.28); transform:translateY(-1px); }
.cookie-guide__tab.is-active { background:rgba(59,130,246,0.3); color:#bfdbfe; box-shadow:0 4px 14px rgba(59,130,246,0.25); }
.cookie-guide__detail { font-size:13px; color:#cbd5f5; line-height:1.5; }
.cookie-guide__list { margin:0; padding-left:20px; display:flex; flex-direction:column; gap:6px; }
.cookie-mini__stats { font-size:12px; color:#e0e7ff; margin-bottom:6px; display:flex; flex-wrap:wrap; gap:8px; }
.cookie-mini__stats span { display:flex; align-items:center; gap:4px; background:rgba(30,58,138,0.28); padding:2px 8px; border-radius:8px; }
.cookie-mini__progress { display:flex; flex-direction:column; gap:4px; }
.cookie-mini__progress-label { font-size:11px; color:#94a3b8; }
.cookie-mini__summary { font-size:12px; color:#e2e8f0; margin-bottom:6px; }
.cultivation-container { display:flex; flex-direction:column; gap:16px; }
.cultivation-empty { padding:24px; text-align:center; color:#777; }
.cultivation-summary { background:linear-gradient(135deg, rgba(20,30,56,0.92), rgba(32,42,78,0.92)); border:1px solid rgba(99,179,237,0.35); border-radius:14px; padding:18px; color:#f1f5ff; box-shadow:0 10px 28px rgba(10,18,40,0.45); }
.cultivation-summary__header { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.cultivation-summary__title { font-size:21px; font-weight:700; letter-spacing:0.02em; color:#f5f3ff; text-shadow:0 0 12px rgba(125,211,252,0.45); }
.cultivation-summary__stats { font-size:14px; color:#9ec5ff; text-shadow:0 0 8px rgba(148,163,255,0.35); }
.cultivation-summary__last { font-size:14px; margin-bottom:6px; display:flex; flex-direction:column; gap:10px; }
.cultivation-summary__headline { font-size:16px; font-weight:700; color:#fdf4ff; }
.cultivation-summary__coins { font-size:13px; color:#fde68a; font-weight:600; }
.cultivation-summary__stats-grid { margin-top:8px; }
.cultivation-summary__talents { display:flex; flex-wrap:wrap; gap:8px; font-size:13px; color:#f5f3ff; }
.cultivation-summary__talents .label { font-size:12px; color:#bfdbfe; letter-spacing:0.06em; }
.cultivation-summary__collections { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; }
.cultivation-summary__reward { color:#facc15; margin-bottom:6px; font-weight:600; }
.cultivation-summary__reward.muted { color:#cbd5f5; font-weight:500; }
.cultivation-summary__history { margin-top:12px; }
.cultivation-summary__history .label { font-size:13px; color:#94a3b8; margin-bottom:4px; display:block; }
.cultivation-summary__history ul { list-style:none; padding:0; margin:0; }
.cultivation-summary__history li { display:flex; justify-content:space-between; font-size:13px; padding:4px 0; border-bottom:1px solid rgba(148,163,184,0.15); }
.cultivation-summary__history li:last-child { border-bottom:none; }
.cultivation-summary__history .meta { color:#94a3b8; }
.cultivation-leaderboard-card { background:linear-gradient(135deg, rgba(24,32,62,0.92), rgba(16,24,46,0.92)); border:1px solid rgba(99,179,237,0.22); border-radius:14px; padding:16px; color:#dbeafe; box-shadow:0 10px 24px rgba(8,14,32,0.45); }
.cultivation-leaderboard__title { font-size:16px; font-weight:600; letter-spacing:0.06em; color:#bfdbfe; margin-bottom:8px; }
.cultivation-leaderboard-card ol { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:6px; }
.cultivation-leaderboard-card li { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border-radius:10px; background:rgba(148,163,184,0.08); color:#cbd5f5; font-size:13px; }
.cultivation-leaderboard-card li .rank { font-weight:600; color:#93c5fd; }
.cultivation-leaderboard-card li .name { flex:1; margin:0 12px; }
.cultivation-leaderboard-card li .score { font-weight:700; color:#fde68a; }
.cultivation-leaderboard-card li.is-self { background:rgba(59,130,246,0.22); color:#f8fafc; box-shadow:0 8px 18px rgba(30,41,88,0.45); }
.cultivation-leaderboard-card li.is-self .rank { color:#facc15; }
.cultivation-leaderboard__empty { font-size:13px; color:#94a3b8; text-align:center; padding:12px 0 4px; }

.cultivation-section { background:linear-gradient(140deg, rgba(18,26,52,0.92), rgba(28,37,66,0.92)); border:1px solid rgba(99,179,237,0.28); border-radius:14px; padding:18px; color:#f1f5ff; box-shadow:0 8px 24px rgba(10,16,34,0.42); }
.cultivation-run__header { display:flex; justify-content:space-between; gap:12px; align-items:flex-start; margin-bottom:12px; }
.cultivation-run__stage { font-size:18px; font-weight:700; color:#f7faff; text-shadow:0 0 6px rgba(99,179,237,0.4); }
.cultivation-run__meta { font-size:13px; color:#8ee6ff; margin-top:4px; }
.cultivation-run__coins { font-size:13px; color:#fde68a; font-weight:600; margin-top:4px; }
.cultivation-run__health { min-width:160px; font-size:13px; color:#fdfcff; }
.cultivation-run__health .progress-bar { margin-top:4px; height:6px; background:rgba(148,163,184,0.3); border-radius:4px; overflow:hidden; }
.cultivation-run__health .progress-bar__fill { height:100%; background:linear-gradient(90deg,#38f2b6,#16b45f); box-shadow:0 0 12px rgba(56,242,182,0.6); }
.cultivation-run__stats { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:8px; margin-bottom:12px; }
.cultivation-run__stats .stat { background:linear-gradient(135deg, rgba(65,85,140,0.32), rgba(45,60,110,0.26)); padding:10px; border-radius:10px; text-align:center; border:1px solid rgba(99,179,237,0.22); box-shadow:0 6px 18px rgba(10,18,40,0.35); }
.cultivation-run__stats .stat span { display:block; font-size:12px; color:#bbd2ff; letter-spacing:0.04em; }
.cultivation-run__stats .stat strong { font-size:18px; font-weight:700; color:#fefefe; }
.cultivation-run__talents { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:12px; }
.cultivation-run__talents { align-items:center; }
.cultivation-run__collections { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-bottom:12px; }
.talent-chip { background:rgba(59,130,246,0.15); color:#bfdbfe; padding:6px 12px; border-radius:999px; font-size:13px; }
.cultivation-lineage { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:14px; margin:10px 0; }
.cultivation-lineage__item { background:linear-gradient(135deg, rgba(55,65,110,0.55), rgba(36,46,88,0.55)); border-radius:12px; padding:12px 14px; display:flex; flex-direction:column; gap:4px; border:1px solid rgba(129,199,255,0.25); box-shadow:0 6px 16px rgba(10,16,32,0.4); }
.cultivation-lineage__item .label { font-size:12px; color:#9cd9ff; text-transform:uppercase; letter-spacing:0.1em; }
.cultivation-lineage__item strong { font-size:16px; color:#fdf4ff; font-weight:700; }
.cultivation-lineage__item .tag { display:inline-block; margin-top:4px; padding:2px 8px; border-radius:999px; background:rgba(250,204,21,0.18); color:#fde68a; font-size:11px; letter-spacing:0.05em; }
.cultivation-lineage__item .meta { font-size:12px; color:#c7d7ff; opacity:0.86; }
.cultivation-collection { background:rgba(148,163,184,0.05); border:1px solid rgba(148,163,184,0.18); border-radius:10px; padding:10px 12px; display:flex; flex-direction:column; gap:6px; }
.cultivation-collection__title { font-size:12px; color:#94a3b8; text-transform:uppercase; letter-spacing:0.08em; }
.cultivation-collection__list { display:flex; flex-wrap:wrap; gap:6px; }
.cultivation-collection__empty { font-size:12px; color:#64748b; }
.cultivation-chip { background:linear-gradient(135deg, rgba(99,179,237,0.36), rgba(157,123,255,0.36)); color:#fefaff; border-radius:999px; display:inline-flex; align-items:center; gap:6px; padding:4px 10px; font-size:12px; box-shadow:0 0 10px rgba(99,179,237,0.35); }
.cultivation-chip__label { font-weight:600; }
.cultivation-chip__note { font-size:11px; color:#fef3ff; opacity:0.9; }
.cultivation-stats-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:8px; }
.cultivation-stat-pill { background:rgba(148,163,184,0.08); border-radius:10px; padding:8px 10px; display:flex; justify-content:space-between; align-items:center; font-size:13px; color:#e2e8f0; }
.cultivation-stat-pill span { color:#94a3b8; }
.cultivation-stat-pill strong { font-size:15px; }
.cultivation-outcome { margin-bottom:12px; padding:12px; background:rgba(56,189,248,0.12); border-radius:10px; font-size:13px; color:#cbd5f5; border:1px solid rgba(148,163,184,0.18); display:flex; flex-direction:column; gap:4px; }
.cultivation-outcome__narrative { font-weight:600; line-height:1.5; }
.cultivation-outcome__stats { font-size:12px; color:#bae6fd; }
.cultivation-outcome.tone-success { background:rgba(34,197,94,0.18); color:#dcfce7; border-color:rgba(34,197,94,0.35); }
.cultivation-outcome.tone-success .cultivation-outcome__stats { color:#bbf7d0; }
.cultivation-outcome.tone-danger { background:rgba(248,113,113,0.22); color:#fee2e2; border-color:rgba(248,113,113,0.35); }
.cultivation-outcome.tone-danger .cultivation-outcome__stats { color:#fecaca; }
.cultivation-outcome.tone-highlight { background:rgba(250,204,21,0.2); color:#fef08a; border-color:rgba(250,204,21,0.4); }
.cultivation-outcome.tone-highlight .cultivation-outcome__stats { color:#fde68a; }
.cultivation-event { margin-bottom:16px; }
.cultivation-event__title { font-size:17px; font-weight:600; margin-bottom:4px; }
.cultivation-event__desc { font-size:14px; color:#cbd5f5; margin-bottom:6px; }
.cultivation-event__tag { display:inline-block; padding:4px 10px; border-radius:999px; background:rgba(192,132,252,0.18); color:#f5d0fe; font-size:12px; margin-bottom:6px; }
.cultivation-event__hint { font-size:13px; color:#fcd34d; margin-bottom:8px; }
.cultivation-event__options { display:flex; flex-direction:column; gap:8px; }
.cultivation-event__options .btn { display:flex; flex-direction:column; align-items:flex-start; text-align:left; border:1px solid rgba(99,179,237,0.22); background:rgba(17,26,46,0.7); box-shadow:0 4px 16px rgba(10,16,32,0.32); }
.cultivation-event__options .btn .btn-title { font-weight:600; }
.cultivation-event__options .btn .btn-desc { font-size:12px; color:#dbeafe; margin-top:2px; }
.cultivation-event__options .btn .btn-meta { margin-top:6px; display:flex; flex-wrap:wrap; gap:6px; }
.cultivation-option-pill { display:inline-flex; align-items:center; padding:2px 8px; border-radius:999px; font-size:11px; letter-spacing:0.04em; }
.cultivation-option-pill.negative { background:rgba(248,113,113,0.18); color:#fecaca; border:1px solid rgba(248,113,113,0.35); }
.cultivation-option-pill.positive { background:rgba(52,211,153,0.2); color:#d1fae5; border:1px solid rgba(16,185,129,0.4); }
.cultivation-option-pill.warning { background:rgba(250,204,21,0.2); color:#fef3c7; border:1px solid rgba(250,204,21,0.4); }
.cultivation-option-pill.highlight { background:rgba(167,139,250,0.22); color:#ede9fe; border:1px solid rgba(167,139,250,0.4); }
.cultivation-option-pill.note { background:rgba(96,165,250,0.18); color:#dbeafe; border:1px solid rgba(59,130,246,0.35); }
.cultivation-option-risk { margin-top:6px; font-size:12px; line-height:1.4; color:#fef3c7; text-align:left; }
.cultivation-option-risk.risk-warning { color:#fde68a; }
.cultivation-option-risk.risk-danger { color:#fecaca; }
.cultivation-option-risk.risk-boon { color:#bbf7d0; }
.cultivation-option-fortune { margin-top:6px; font-size:12px; line-height:1.4; color:#dbeafe; display:flex; flex-direction:column; gap:2px; }
.cultivation-option-fortune .label { font-size:11px; letter-spacing:0.08em; font-weight:600; text-transform:uppercase; opacity:0.95; }
.cultivation-option-fortune .desc { font-size:11px; opacity:0.85; }
.cultivation-option-fortune.tone-danger { color:#fecaca; }
.cultivation-option-fortune.tone-warning { color:#fde68a; }
.cultivation-option-fortune.tone-success { color:#bbf7d0; }
.cultivation-option-fortune.tone-highlight { color:#fef08a; }
.cultivation-option-debug { margin-top:6px; padding:6px 8px; border-radius:8px; background:rgba(22,30,52,0.75); border:1px dashed rgba(148,163,184,0.45); font-size:11px; line-height:1.5; color:#e2e8f0; display:flex; flex-direction:column; gap:4px; }
.cultivation-option-debug .row { display:flex; justify-content:space-between; gap:12px; }
.cultivation-option-debug .row span { color:#94a3b8; font-weight:500; }
.cultivation-option-debug .row strong { color:#f8fafc; font-weight:600; text-align:right; }
.cultivation-option-debug .row.trap strong { color:#fecaca; }
.cultivation-option-debug .row.trap.safe strong { color:#cbd5f5; }
.cultivation-log { margin-top:12px; }
.cultivation-log__title { font-size:14px; color:#94a3b8; margin-bottom:6px; }
.cultivation-log ul { max-height:200px; overflow:auto; background:rgba(148,163,184,0.06); border-radius:8px; padding:8px 12px; list-style:none; margin:0; }
.cultivation-log li { font-size:13px; padding:4px 0; border-bottom:1px solid rgba(148,163,184,0.1); }
.cultivation-log li:last-child { border-bottom:none; }
.cultivation-log li.tone-info { color:#cbd5f5; }
.cultivation-log li.tone-success { color:#4ade80; }
.cultivation-log li.tone-danger { color:#f87171; }
.cultivation-log li.tone-highlight { color:#facc15; }
.cultivation-log li.tone-chance { color:#c084fc; }
.cultivation-log li.tone-warning { color:#fbbf24; }

.cultivation-ending__log li.tone-info { color:#cbd5f5; }
.cultivation-ending__log li.tone-success { color:#4ade80; }
.cultivation-ending__log li.tone-danger { color:#f87171; }
.cultivation-ending__log li.tone-highlight { color:#facc15; }
.cultivation-ending__log li.tone-chance { color:#c084fc; }
.cultivation-ending__log li.tone-warning { color:#fbbf24; }

.cultivation-ending { display:flex; justify-content:center; }
.cultivation-ending__card { background:linear-gradient(145deg, rgba(20,26,50,0.95), rgba(30,40,68,0.95)); border:1px solid rgba(165,180,255,0.35); border-radius:18px; padding:26px; color:#f1f5ff; display:flex; flex-direction:column; gap:18px; width:100%; max-width:780px; margin:0 auto; box-shadow:0 12px 34px rgba(8,14,32,0.45); }
.cultivation-ending__header { display:flex; flex-direction:column; gap:6px; }
.cultivation-ending__title { font-size:22px; font-weight:800; letter-spacing:0.03em; text-shadow:0 0 10px rgba(167,139,250,0.45); }
.cultivation-ending__meta { font-size:14px; color:#a5f3fc; }
.cultivation-ending__best { font-size:13px; color:#fde68a; font-weight:600; }
.cultivation-ending__reward { color:#fde68a; font-weight:600; margin-top:-4px; }
.cultivation-ending__reward.muted { color:#a5b4fc; font-weight:500; }
.cultivation-reward__weekly { display:block; font-size:12px; margin-top:4px; color:rgba(255,249,196,0.85); letter-spacing:0.01em; }
.cultivation-summary__reward .cultivation-reward__weekly { color:rgba(253,230,138,0.85); }
.cultivation-ending__reward.muted .cultivation-reward__weekly { color:rgba(165,180,252,0.75); }
.cultivation-ending__coins { font-size:13px; color:#fef3c7; font-weight:600; }
.cultivation-ending__stats { }
.cultivation-ending__talents { display:flex; flex-wrap:wrap; gap:8px; font-size:13px; color:#cbd5f5; }
.cultivation-ending__talents .label { font-size:12px; color:#bfdbfe; letter-spacing:0.08em; }
.cultivation-ending__collections { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:12px; }
.cultivation-ending__log-wrap { display:flex; flex-direction:column; gap:6px; }
.cultivation-ending__log-wrap .label { font-size:13px; color:#94a3b8; }
.cultivation-ending__log { list-style:none; margin:0; padding:10px 14px; max-height:200px; overflow:auto; background:rgba(148,163,184,0.06); border-radius:10px; display:flex; flex-direction:column; gap:6px; }
.cultivation-ending__actions { display:flex; justify-content:flex-end; }

.cultivation-lobby__meta { font-size:13px; color:#7dd3fc; margin-bottom:12px; display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
.cultivation-lobby__actions { margin-bottom:12px; }
.cultivation-talent-list { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; }
.cultivation-talent { padding:12px; border:1px solid rgba(99,179,237,0.35); border-radius:12px; background:rgba(26,36,70,0.66); cursor:pointer; transition:border-color 0.2s, background 0.2s, transform 0.2s; box-shadow:0 8px 18px rgba(10,18,40,0.3); }
.cultivation-talent:hover { border-color:#60a5fa; transform:translateY(-2px); }
.cultivation-talent.selected { border-color:#93c5fd; background:rgba(37,99,235,0.28); }
.cultivation-talent__name { font-size:15px; font-weight:600; margin-bottom:4px; }
.cultivation-talent__desc { font-size:13px; color:#dbeafe; margin-bottom:6px; }
.cultivation-talent__effects { font-size:12px; color:#c7d2fe; }
.cultivation-attr-list { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:12px; margin-bottom:16px; }
.cultivation-attr { background:rgba(148,163,184,0.08); border-radius:8px; padding:10px 12px; }
.cultivation-attr label { display:block; font-weight:600; margin-bottom:4px; }
.cultivation-attr__value { font-size:13px; color:#cbd5f5; }
.cultivation-attr input[type=number] { width:70px; margin-left:6px; padding:4px; border-radius:4px; border:1px solid rgba(148,163,184,0.4); background:#0b1220; color:#e2e8f0; }
.cultivation-start { text-align:right; }
.cultivation-start .btn.is-disabled { opacity:0.5; pointer-events:none; }
.cultivation-lineage-select { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; margin-bottom:18px; }
.cultivation-lineage-select__group { display:flex; flex-direction:column; gap:10px; }
.cultivation-lineage-select__group .group-title { font-size:13px; font-weight:600; color:#c7d2fe; letter-spacing:0.08em; text-transform:uppercase; }
.cultivation-lineage-select__group .group-body { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:10px; }
.cultivation-lineage-card { border:1px solid rgba(99,179,237,0.28); border-radius:12px; padding:12px; background:linear-gradient(135deg, rgba(24,33,62,0.86), rgba(34,44,76,0.86)); box-shadow:0 6px 18px rgba(8,14,32,0.38); cursor:pointer; transition:transform 0.2s, border-color 0.2s, box-shadow 0.2s; display:flex; flex-direction:column; gap:6px; }
.cultivation-lineage-card:hover { border-color:#7dd3fc; box-shadow:0 10px 24px rgba(10,16,36,0.45); transform:translateY(-2px); }
.cultivation-lineage-card.selected { border-color:#c084fc; box-shadow:0 12px 28px rgba(99,102,241,0.45); }
.cultivation-lineage-card.is-locked { opacity:0.45; cursor:not-allowed; filter:saturate(60%); pointer-events:none; }
.cultivation-lineage-card.is-hidden { display:none; }
.cultivation-lineage-card__title { font-size:15px; font-weight:700; color:#f8f9ff; }
.cultivation-lineage-card__desc { font-size:12px; color:#cbd5f5; }
.cultivation-lineage-card__effects { display:flex; flex-wrap:wrap; gap:4px; }
.cultivation-lineage-card__coins { font-size:12px; color:#fde68a; font-weight:600; }
.cultivation-lineage-card__traits { display:flex; flex-wrap:wrap; gap:4px; font-size:11px; color:#a5f3fc; }
.cultivation-effect-pill { display:inline-flex; align-items:center; padding:2px 6px; border-radius:999px; background:rgba(96,165,250,0.18); color:#dbeafe; font-size:11px; }
.cultivation-effect-pill.muted { background:rgba(148,163,184,0.18); color:#e2e8f0; }
.cultivation-summary__coins, .cultivation-ending__coins, .cultivation-run__coins { letter-spacing:0.02em; }
@media (max-width: 960px) {
  .cultivation-lineage-select { grid-template-columns:1fr 1fr; }
}
@media (max-width: 720px) {
  .cultivation-lineage-select { grid-template-columns:1fr; }
  .cultivation-lineage-select__group .group-body { grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); }
}
@media (max-width: 540px) {
  .cultivation-lineage-select__group .group-body { grid-template-columns:1fr; }
  .cultivation-lineage-card { padding:10px; }
}

/* Additional vibrant elements */
.cultivation-talent__head { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.cultivation-talent__name { font-size:15px; font-weight:600; letter-spacing:0.02em; }
.cultivation-talent__rarity { font-size:11px; padding:2px 8px; border-radius:999px; background:rgba(147,197,253,0.2); color:#dbeafe; border:1px solid rgba(147,197,253,0.4); text-transform:uppercase; letter-spacing:0.08em; }
.cultivation-talent__effects { color:#d9c4ff; }
.cultivation-rarity-legend { margin-bottom:10px; font-size:12px; color:#cbd5f5; display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
.cultivation-rarity-pill { display:inline-flex; align-items:center; padding:2px 10px; border-radius:999px; border:1px solid rgba(148,163,255,0.35); background:rgba(79,70,229,0.18); color:#ede9fe; font-size:11px; letter-spacing:0.08em; }
.rarity-rare-blue { background:rgba(59,130,246,0.2); border-color:rgba(96,165,250,0.45); color:#dbeafe; }
.rarity-rare-purple { background:rgba(147,51,234,0.22); border-color:rgba(196,181,253,0.5); color:#f3e8ff; }
.rarity-rare-gold { background:rgba(251,191,36,0.22); border-color:rgba(253,224,71,0.5); color:#fff9db; }
.cultivation-talent-chips { display:flex; flex-wrap:wrap; gap:8px; }
.cultivation-chip.talent { display:inline-flex; align-items:center; gap:6px; }
.cultivation-chip.talent.rarity-rare-blue { background:rgba(96,165,250,0.2); border-color:rgba(96,165,250,0.45); color:#e0f2ff; }
.cultivation-chip.talent.rarity-rare-purple { background:rgba(192,132,252,0.22); border-color:rgba(192,132,252,0.5); color:#f4e8ff; }
.cultivation-chip.talent.rarity-rare-gold { background:rgba(253,224,71,0.25); border-color:rgba(253,224,71,0.5); color:#fff9db; }
.cultivation-talent-chip__rarity { font-size:10px; padding:1px 6px; border-radius:999px; background:rgba(148,163,255,0.4); color:#f8fafc; letter-spacing:0.08em; }
.cultivation-talent-area { display:flex; flex-direction:column; gap:14px; margin-bottom:18px; }
.cultivation-talent-toolbar {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 16px;
  border-radius:14px;
  background:linear-gradient(135deg, rgba(34,45,82,0.82), rgba(19,26,48,0.78));
  border:1px solid rgba(94,120,188,0.5);
  box-shadow:0 12px 26px rgba(8,12,24,0.45);
  flex-wrap:wrap;
}
.cultivation-talent-toolbar .btn { min-width:132px; }
.cultivation-refresh__info { font-size:12px; color:#a5b4fc; margin:0; display:flex; gap:6px; align-items:center; }
.cultivation-refresh__count { font-size:14px; font-weight:600; color:#fcd34d; text-shadow:0 0 8px rgba(253,224,71,0.35); }
.cultivation-event__trial { background:rgba(59,130,246,0.12); border:1px dashed rgba(96,165,250,0.35); padding:10px 12px; border-radius:12px; margin-bottom:10px; font-size:12px; color:#dbeafe; box-shadow:0 8px 18px rgba(14,22,48,0.3); }
.cultivation-event__trial .headline { font-size:13px; font-weight:600; letter-spacing:0.08em; color:#bfdbfe; margin-bottom:4px; }
.cultivation-event__trial .meta { font-size:12px; color:#f1f5ff; }
.cultivation-event__trial .meta span { color:#facc15; font-weight:600; }
.cultivation-event__trial .note { font-size:11px; color:#f8fafc; opacity:0.8; margin-top:4px; }
.cultivation-trial-spinner { margin-top:12px; display:none; }
.cultivation-trial-spinner.is-active { display:block; }
.cultivation-trial-spinner__inner { display:flex; align-items:center; justify-content:center; gap:10px; padding:10px 12px; border:1px solid rgba(148,163,255,0.35); border-radius:999px; background:rgba(30,41,99,0.68); color:#e0f2fe; font-size:13px; box-shadow:0 12px 26px rgba(10,16,36,0.4); }
.cultivation-trial-spinner__inner .spinner { width:18px; height:18px; border:3px solid rgba(148,163,255,0.2); border-top-color:#60a5fa; border-radius:50%; animation:cultivation-spin 1s linear infinite; }
.cultivation-trial-spinner__inner.result .spinner { display:none; }
.cultivation-trial-spinner__inner.result .label { font-weight:600; letter-spacing:0.05em; }
.cultivation-trial-spinner__inner.tone-highlight { background:rgba(34,197,94,0.22); border-color:rgba(134,239,172,0.45); color:#f0fff4; }
.cultivation-trial-spinner__inner.tone-success { background:rgba(34,197,94,0.2); border-color:rgba(134,239,172,0.45); color:#f0fff4; }
.cultivation-trial-spinner__inner.tone-danger { background:rgba(248,113,113,0.24); border-color:rgba(252,165,165,0.5); color:#fee2e2; }
.cultivation-trial-spinner__inner.tone-warning { background:rgba(250,204,21,0.24); border-color:rgba(253,224,71,0.5); color:#fef3c7; }

@keyframes cultivation-spin {
  from { transform:rotate(0deg); }
  to { transform:rotate(360deg); }
}

.btn.is-loading { position:relative; pointer-events:none; opacity:0.7; }
.btn.is-loading::after { content:""; position:absolute; right:10px; top:50%; width:12px; height:12px; border:2px solid rgba(255,255,255,0.6); border-top-color:transparent; border-radius:50%; animation:spin 0.8s linear infinite; transform:translateY(-50%); }

.cookie-disabled { padding:24px; border-radius:16px; text-align:center; background:rgba(15,23,42,0.6); color:#cbd5f5; }
.cookie-report { padding:16px; border-radius:14px; background:rgba(30,41,59,0.8); box-shadow:0 4px 14px rgba(0,0,0,0.12); display:flex; flex-direction:column; gap:8px; }
.cookie-report .report-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:6px; font-size:13px; color:#cbd5f5; }
.cookie-section .btn-mini { white-space:nowrap; }
.cookie-claim { margin-top:12px; display:flex; align-items:center; gap:16px; flex-wrap:wrap; }
.cookie-claim__info { display:flex; flex-direction:column; gap:4px; font-size:13px; color:#e2e8f0; }
.cookie-claim__hint { font-size:12px; color:#94a3b8; }
.cookie-claim .btn { min-width:180px; }
.cookie-claim .btn.is-disabled { cursor:not-allowed; opacity:0.6; }

@media (max-width:720px) {
  .cookie-actions .btn { flex:1 1 100%; }
  .cookie-building { flex-direction:column; align-items:flex-start; }
}

.friends-container { display:flex; gap:16px; align-items:stretch; }
.friends-sidebar { width:280px; display:flex; flex-direction:column; gap:12px; }
.friends-search { display:flex; gap:8px; }
.friends-search input { flex:1; padding:8px 10px; border-radius:8px; border:1px solid rgba(148,163,184,0.25); background:#0f172a; color:#e2e8f0; }
.friends-search__results { background:rgba(15,23,42,0.65); border:1px solid rgba(99,179,237,0.18); border-radius:12px; padding:12px; display:flex; flex-direction:column; gap:10px; min-height:120px; }
.friends-search__result { display:flex; justify-content:space-between; align-items:center; background:rgba(30,41,82,0.55); border-radius:10px; padding:10px; border:1px solid rgba(99,179,237,0.22); gap:12px; }
.friends-search__info .name { font-weight:600; color:#f1f5f9; }
.friends-search__info .meta { font-size:12px; color:#93c5fd; margin-top:2px; }
.friends-search__hint, .friends-search__empty { font-size:13px; color:#94a3b8; text-align:center; padding:12px 4px; }
.friends-list { flex:1; background:rgba(15,23,42,0.75); border:1px solid rgba(99,179,237,0.18); border-radius:12px; padding:8px; display:flex; flex-direction:column; gap:8px; max-height:420px; overflow:auto; }
.friends-list__item { width:100%; text-align:left; border:none; background:rgba(29,40,74,0.65); border-radius:10px; padding:10px 12px; color:#e2e8f0; display:flex; flex-direction:column; gap:6px; cursor:pointer; transition:background 0.2s, transform 0.2s; }
.friends-list__item:hover { background:rgba(59,130,246,0.22); transform:translateY(-1px); }
.friends-list__item.active { background:rgba(99,102,241,0.28); border:1px solid rgba(129,140,248,0.45); box-shadow:0 6px 18px rgba(30,41,88,0.4); }
.friends-list__name { font-weight:600; font-size:14px; }
.friends-list__meta { display:flex; justify-content:space-between; align-items:center; font-size:12px; color:#94a3b8; gap:8px; }
.friends-list__preview { flex:1; }
.friends-list__time { color:#64748b; }
.friends-list__empty { padding:16px; font-size:13px; color:#94a3b8; text-align:center; }
.friends-chat { flex:1; background:linear-gradient(135deg, rgba(21,30,60,0.92), rgba(16,23,46,0.92)); border:1px solid rgba(99,179,237,0.25); border-radius:16px; padding:16px; display:flex; flex-direction:column; gap:12px; box-shadow:0 12px 28px rgba(8,14,32,0.45); }
.friends-chat__header { display:flex; justify-content:space-between; align-items:center; }
.friends-chat__header .title { font-size:18px; font-weight:700; color:#f1f5f9; }
.friends-chat__header .subtitle { font-size:12px; color:#93c5fd; }
.friends-chat__messages { flex:1; overflow:auto; display:flex; flex-direction:column; gap:10px; padding:12px; border-radius:12px; background:rgba(8,13,26,0.65); border:1px solid rgba(59,130,246,0.18); }
.friends-chat__empty { text-align:center; padding:20px 0; color:#64748b; font-size:13px; }
.friends-chat__loading { text-align:center; padding:20px 0; color:#93c5fd; font-size:13px; }
.friends-chat__placeholder { font-size:14px; color:#94a3b8; }
.friend-message { display:flex; flex-direction:column; max-width:72%; }
.friend-message.incoming { align-self:flex-start; }
.friend-message.outgoing { align-self:flex-end; text-align:right; }
.friend-message__bubble { display:inline-block; padding:10px 14px; border-radius:14px; background:rgba(59,130,246,0.22); color:#e2e8f0; box-shadow:0 8px 18px rgba(14,22,48,0.35); text-align:left; word-break:break-word; }
.friend-message.incoming .friend-message__bubble { background:rgba(148,163,184,0.18); color:#f8fafc; }
.friend-message__meta { margin-top:4px; font-size:11px; color:#64748b; }
.friends-chat__form { display:flex; flex-direction:column; gap:8px; }
.friends-chat__form textarea { width:100%; border-radius:10px; border:1px solid rgba(148,163,184,0.28); background:#0f172a; color:#e2e8f0; padding:10px; resize:vertical; min-height:60px; }
.friends-chat__actions { display:flex; justify-content:flex-end; }
.friends-chat__actions .btn { min-width:96px; }
@media (max-width:960px) {
  .friends-container { flex-direction:column; }
  .friends-sidebar { width:100%; }
  .friends-list { max-height:260px; }
}
